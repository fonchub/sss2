{"version":3,"sources":["HandCards.js"],"names":["cc","Class","extends","Component","properties","atlas","default","type","SpriteAtlas","beimi0","cardvalue","Node","target","onLoad","lastonecard","take","node","on","event","console","log","init","cvalue","value","cardframe","cardcolors","parseInt","cardtype","mjtype","mjvalue","deskcard","getSpriteFrame","getComponent","Sprite","spriteFrame","anim","Animation","play","lastone","width","selected","opacity","selectcolor","relastone","reinit","y"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,eAAO;AACHC,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ;AAFN,SAXC;AAeRC,gBAAQ;AACJH,qBAAS,IADL;AAEJC,kBAAMP,GAAGQ;AAFL,SAfA;AAmBRE,mBAAU;AACNJ,qBAAS,IADH;AAENC,kBAAMP,GAAGW;AAFH,SAnBF;AAuBRC,gBAAO;AACHN,qBAAS,IADN;AAEHC,kBAAMP,GAAGW;AAFN;;AAvBC,KAHP;;AAiCL;AACAE,YAAQ,kBAAY;AAChB,aAAKC,WAAL,GAAmB,KAAnB;AACA,aAAKC,IAAL,GAAY,KAAZ;AACA,aAAKC,IAAL,CAAUC,EAAV,CAAa,WAAb,EAA0B,UAAWC,KAAX,EAAmB;AACzCC,oBAAQC,GAAR,CAAY,QAAZ;AACH,SAFD;AAGA,aAAKJ,IAAL,CAAUC,EAAV,CAAa,WAAb,EAA0B,UAAWC,KAAX,EAAmB;AACzCC,oBAAQC,GAAR,CAAY,cAAZ;AACH,SAFD;AAGH,KA3CI;AA4CLC,UAAK,cAASC,MAAT,EAAgB;AACjB,aAAKC,KAAL,GAAaD,MAAb;AACA,YAAIE,kBAAJ;AACA,YAAIC,aAAaC,SAAS,KAAKH,KAAL,GAAW,CAApB,CAAjB;AACA,YAAII,WAAYD,SAASD,aAAa,CAAtB,CAAhB;;AAEA,aAAKG,MAAL,GAAcD,QAAd;AACA,aAAKE,OAAL,GAAeH,SAAU,KAAKH,KAAL,GAAW,EAAZ,GAAgB,CAAzB,CAAf;;AAEA,YAAIO,iBAAJ;AACA,aAAKhB,WAAL,GAAmB,KAAnB;AACA,YAAGW,aAAa,CAAhB,EAAkB;AACdK,uBAAW,UAAQL,aAAa,CAArB,CAAX,CADc,CACuB;AACxC,SAFD,MAEK;AACD,gBAAGE,YAAY,CAAf,EAAiB;AAAE;AACfG,2BAAW,SAAQJ,SAAU,KAAKH,KAAL,GAAW,EAAZ,GAAgB,CAAzB,IAA4B,CAApC,CAAX;AACH,aAFD,MAEM,IAAGI,YAAY,CAAf,EAAiB;AAAE;AACrBG,2BAAW,UAASJ,SAAU,KAAKH,KAAL,GAAW,EAAZ,GAAgB,CAAzB,IAA4B,CAArC,CAAX;AACH,aAFK,MAEA,IAAGI,YAAY,CAAf,EAAiB;AAAG;AACtBG,2BAAW,SAAQJ,SAAU,KAAKH,KAAL,GAAW,EAAZ,GAAgB,CAAzB,IAA4B,CAApC,CAAX;AACH;AACJ;AACD,YAAGO,YAAY,MAAf,EAAsB;AAClBN,wBAAY,KAAKf,MAAL,CAAYsB,cAAZ,CAA2B,QAAMD,QAAjC,CAAZ;AACH,SAFD,MAEK;AACDN,wBAAY,KAAKnB,KAAL,CAAW0B,cAAX,CAA0B,QAAMD,QAAhC,CAAZ;AACH;AACD,aAAKpB,SAAL,CAAesB,YAAf,CAA4BhC,GAAGiC,MAA/B,EAAuCC,WAAvC,GAAqDV,SAArD;;AAEA,YAAIW,OAAO,KAAKH,YAAL,CAAkBhC,GAAGoC,SAArB,CAAX;AACAD,aAAKE,IAAL,CAAU,iBAAV;AACH,KA3EI;AA4ELC,aAAQ,mBAAU;AACd,YAAG,KAAKxB,WAAL,IAAoB,KAAvB,EAA6B;AACzB,iBAAKA,WAAL,GAAmB,IAAnB;AACA,iBAAKF,MAAL,CAAY2B,KAAZ,GAAoB,KAAK3B,MAAL,CAAY2B,KAAZ,GAAoB,EAAxC;AACH;AACJ,KAjFI;AAkFLC,cAAS,oBAAU;AACf,aAAK5B,MAAL,CAAY6B,OAAZ,GAAsB,GAAtB;AACA,aAAKC,WAAL,GAAmB,IAAnB;AACH,KArFI;AAsFLC,eAAU,qBAAU;AAChB,YAAG,KAAK7B,WAAL,IAAoB,IAAvB,EAA4B;AACxB,iBAAKA,WAAL,GAAmB,KAAnB;AACA,iBAAKF,MAAL,CAAY2B,KAAZ,GAAoB,KAAK3B,MAAL,CAAY2B,KAAZ,GAAoB,EAAxC;AACH;AACJ,KA3FI;AA4FLK,YAAO,kBAAU;AACb,aAAKD,SAAL;;AAEA,aAAK7B,WAAL,GAAmB,KAAnB;;AAEA,aAAK4B,WAAL,GAAmB,KAAnB;AACA,aAAK9B,MAAL,CAAY6B,OAAZ,GAAsB,GAAtB;;AAEA,YAAG,KAAK1B,IAAR,EAAa;AACT,iBAAKH,MAAL,CAAYiC,CAAZ,GAAgB,KAAKjC,MAAL,CAAYiC,CAAZ,GAAgB,EAAhC;AACA,iBAAK9B,IAAL,GAAY,KAAZ;AACH;AACJ;;AAED;AACA;;AAEA;AA7GK,CAAT","file":"HandCards.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\..\\assets\\module\\game\\majiang\\script\\cards","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        atlas: {\n            default: null,\n            type: cc.SpriteAtlas\n        },\n        beimi0: {\n            default: null,\n            type: cc.SpriteAtlas\n        },\n        cardvalue:{\n            default: null,\n            type: cc.Node\n        },\n        target:{\n            default: null,\n            type: cc.Node\n        },\n\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.lastonecard = false ;\n        this.take = false ;\n        this.node.on('mousedown', function ( event ) {\n            console.log('Hello!');\n        });\n        this.node.on('mousemove', function ( event ) {\n            console.log('Hello Mover!');\n        });\n    },\n    init:function(cvalue){\n        this.value = cvalue ;\n        let cardframe ;\n        let cardcolors = parseInt(this.value/4 ) ;\n        let cardtype  = parseInt(cardcolors / 9);\n\n        this.mjtype = cardtype ;\n        this.mjvalue = parseInt((this.value%36)/4 ) ;\n\n        let deskcard ;\n        this.lastonecard = false;\n        if(cardcolors < 0){\n            deskcard = \"wind\"+(cardcolors + 8) ; //东南西北风 ， 中发白\n        }else{\n            if(cardtype == 0){ //万\n                deskcard = \"wan\"+ (parseInt((this.value%36)/4)+1) ;\n            }else if(cardtype == 1){ //筒\n                deskcard = \"tong\"+ (parseInt((this.value%36)/4)+1) ;\n            }else if(cardtype == 2){  //条\n                deskcard = \"suo\"+ (parseInt((this.value%36)/4)+1) ;\n            }\n        }\n        if(deskcard == \"suo2\"){\n            cardframe = this.beimi0.getSpriteFrame('牌面-'+deskcard);\n        }else{\n            cardframe = this.atlas.getSpriteFrame('牌面-'+deskcard);\n        }\n        this.cardvalue.getComponent(cc.Sprite).spriteFrame = cardframe;\n\n        var anim = this.getComponent(cc.Animation);\n        anim.play(\"majiang_current\");\n    },\n    lastone:function(){\n        if(this.lastonecard == false){\n            this.lastonecard = true;\n            this.target.width = this.target.width + 30 ;\n        }\n    },\n    selected:function(){\n        this.target.opacity = 168 ;\n        this.selectcolor = true ;\n    },\n    relastone:function(){\n        if(this.lastonecard == true){\n            this.lastonecard = false;\n            this.target.width = this.target.width - 30 ;\n        }\n    },\n    reinit:function(){\n        this.relastone();\n\n        this.lastonecard = false;\n\n        this.selectcolor = false ;\n        this.target.opacity = 255 ;\n\n        if(this.take){\n            this.target.y = this.target.y - 30 ;\n            this.take = false ;\n        }\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}