{"version":3,"sources":["Playway.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","tag","default","type","Node","score","Label","onlineusers","scorelimit","atlas","SpriteAtlas","onLoad","init","playway","console","log","frameName","level","data","shuffle","active","skin","getComponent","Sprite","spriteFrame","getSpriteFrame","string","min","parseInt","mincoins","max","maxcoins"],"mappings":";;;;;;AAAA,IAAIA,cAAcC,QAAQ,aAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,WADJ;AAELK,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,aAAK;AACDC,qBAAS,IADR;AAEDC,kBAAMN,GAAGO;AAFR,SAXG;AAeRC,eAAO;AACHH,qBAAS,IADN;AAEHC,kBAAMN,GAAGS;AAFN,SAfC;AAmBRC,qBAAa;AACTL,qBAAS,IADA;AAETC,kBAAMN,GAAGS;AAFA,SAnBL;AAuBRE,oBAAY;AACRN,qBAAS,IADD;AAERC,kBAAMN,GAAGS;AAFD,SAvBJ;AA2BRG,eAAO;AACHP,qBAAS,IADN;AAEHC,kBAAMN,GAAGa;AAFN;AA3BC,KAFP;;AAmCL;AACAC,YAAQ,kBAAY,CAEnB,CAtCI;AAuCLC,UAAK,cAASC,OAAT,EAAiB;AAClBC,gBAAQC,GAAR,CAAYF,UAAQ,MAApB;AACA;;;AAGA,YAAGA,OAAH,EAAW;AACP,gBAAIG,YAAa,IAAjB;AACA,gBAAGH,QAAQI,KAAR,IAAiB,GAApB,EAAwB;AACpBD,4BAAY,IAAZ;AACH;AACD,iBAAKE,IAAL,GAAYL,OAAZ;;AAEA,gBAAGA,QAAQM,OAAR,IAAmB,KAAtB,EAA4B;AACxB,qBAAKlB,GAAL,CAASmB,MAAT,GAAkB,KAAlB;AACH,aAFD,MAEK;AACD,qBAAKnB,GAAL,CAASmB,MAAT,GAAkB,IAAlB;AACH;;AAEDJ,wBAAYA,YAAYH,QAAQQ,IAAhC;;AAEA,iBAAKC,YAAL,CAAkBzB,GAAG0B,MAArB,EAA6BC,WAA7B,GAA2C,KAAKf,KAAL,CAAWgB,cAAX,CAA0BT,SAA1B,CAA3C;;AAEA,iBAAKT,WAAL,CAAiBmB,MAAjB,GAA0Bb,QAAQN,WAAR,GAAsB,KAAhD;AACA,gBAAIoB,MAAMC,SAASf,QAAQgB,QAAR,GAAiB,IAA1B,IAAgC,GAA1C;AACA,gBAAGhB,QAAQgB,QAAR,IAAoB,KAAvB,EAA6B;AACzBF,sBAAMC,SAASf,QAAQgB,QAAR,GAAmB,KAA5B,IAAmC,GAAzC;AACH;AACD,gBAAIC,MAAMF,SAASf,QAAQkB,QAAR,GAAiB,IAA1B,IAAgC,GAA1C;AACA,gBAAGlB,QAAQkB,QAAR,IAAoB,KAAvB,EAA6B;AACzBD,sBAAMF,SAASf,QAAQkB,QAAR,GAAmB,KAA5B,IAAmC,GAAzC;AACH;AACD,iBAAKvB,UAAL,CAAgBkB,MAAhB,GAAyBC,MAAM,GAAN,GAAYG,GAArC;;AAEA,iBAAKzB,KAAL,CAAWqB,MAAX,GAAoBb,QAAQR,KAA5B;AACH;AACJ;AACD;AACA;;AAEA;AA9EK,CAAT","file":"Playway.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\ncc.Class({\n    extends: beiMiCommon,\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        tag: {\n            default: null,\n            type: cc.Node\n        },\n        score: {\n            default: null,\n            type: cc.Label\n        },\n        onlineusers: {\n            default: null,\n            type: cc.Label\n        },\n        scorelimit: {\n            default: null,\n            type: cc.Label\n        },\n        atlas: {\n            default: null,\n            type: cc.SpriteAtlas\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n\n    },\n    init:function(playway){\n        console.log(playway+\"返回数据\")\n        /**\n         * 需要预先请求 在线人数\n         */\n        if(playway){\n            var frameName  = \"初级\";\n            if(playway.level == '2'){\n                frameName = \"高级\"\n            }\n            this.data = playway ;\n\n            if(playway.shuffle == false){\n                this.tag.active = false ;\n            }else{\n                this.tag.active = true;\n            }\n\n            frameName = frameName + playway.skin ;\n\n            this.getComponent(cc.Sprite).spriteFrame = this.atlas.getSpriteFrame(frameName);\n\n            this.onlineusers.string = playway.onlineusers + \" 人 \" ;\n            var min = parseInt(playway.mincoins/1000)+\"千\" ;\n            if(playway.mincoins >= 10000){\n                min = parseInt(playway.mincoins / 10000)+\"万\" ;\n            }\n            var max = parseInt(playway.maxcoins/1000)+\"千\" ;\n            if(playway.maxcoins >= 10000){\n                max = parseInt(playway.maxcoins / 10000)+\"万\" ;\n            }\n            this.scorelimit.string = min + \"-\" + max ;\n\n            this.score.string = playway.score ;\n        }\n    }\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}