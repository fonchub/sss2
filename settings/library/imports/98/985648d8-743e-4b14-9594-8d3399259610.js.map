{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\resources\\script\\components/assets\\resources\\script\\components\\BeiMiCard.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","card","Integer","initcard","default","type","Node","normal","lefttop","leftcolor","rightbottom","rightcolor","kingbg","king","atlas","SpriteAtlas","proxy","data","game","onLoad","active","selected","setCard","y","unselected","doselect","order","self","frame","cardframe","cardvalue","getSpriteFrame","src","getComponent","Sprite","spriteFrame","reset"],"mappings":"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","file":"BeiMiCard.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\resources\\script\\components","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\ncc.Class({\n    extends: beiMiCommon,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        card : cc.Integer,\n        initcard :  {\n            default: null,\n            type: cc.Node\n        },\n        normal: {\n            default: null,\n            type: cc.Node\n        },\n        lefttop: {\n            default: null,\n            type: cc.Node\n        },\n        leftcolor: {\n            default: null,\n            type: cc.Node\n        },\n        rightbottom: {\n            default: null,\n            type: cc.Node\n        },\n        rightcolor: {\n            default: null,\n            type: cc.Node\n        },\n        kingbg:{\n            default: null,\n            type: cc.Node\n        },\n        king: {\n            default: null,\n            type: cc.Node\n        },\n        atlas: {\n            default: null,\n            type: cc.SpriteAtlas\n        }\n    },\n    proxy:function(data){\n        this.game = data ;\n    },\n    // use this for initialization\n    onLoad: function () {\n        this.initcard.active = true ;\n        this.normal.active = false;\n        this.selected = false ;\n        this.kingbg.active = false ;\n    },\n    setCard:function(card){\n        this.card = card ;\n        this.normal.y = 0;\n        this.normal.active = false;\n        this.kingbg.y = 0 ;\n        this.kingbg.active = false ;\n    },\n    unselected:function(){\n        if(this.selected){\n            if(this.card >= 52){\n                this.kingbg.y = 0;\n            }else{\n                this.normal.y = 0;\n            }\n        }\n        this.selected = false ;\n    },\n    doselect:function(){\n        if(this.selected == false){\n            if(this.card >= 52) {\n                this.kingbg.y = this.kingbg.y + 30;\n            }else{\n                this.normal.y = this.normal.y + 30;\n            }\n            this.selected = true ;\n        }else{\n            this.unselected();\n        }\n    },\n    order:function(){\n        let self = this ;\n        var frame , cardframe ;\n        if(self.card < 52){\n            var cardvalue = self.card+1 ;\n            if(cardvalue % 4 == 0){\n                frame = this.atlas.getSpriteFrame('方片');\n            }else if(cardvalue % 4 == 1){\n                frame = this.atlas.getSpriteFrame('黑桃');\n            }else if(cardvalue % 4 == 2){\n                frame = this.atlas.getSpriteFrame('红心');\n            }else if(cardvalue % 4 == 3){\n                frame = this.atlas.getSpriteFrame('梅花');\n            }\n            var src = (self.card  - self.card % 4 ) / 4 + 1 + 2;\n            if(src == 14){\n                src = 1 ;\n            }else if(src == 15){\n                src = 2 ;\n            }\n            if(self.card % 2 == 0){\n                cardframe = this.atlas.getSpriteFrame(src);\n            }else{\n                cardframe = this.atlas.getSpriteFrame('r'+src);\n            }\n            this.leftcolor.getComponent(cc.Sprite).spriteFrame = frame;\n            this.lefttop.getComponent(cc.Sprite).spriteFrame = cardframe;\n            this.rightcolor.getComponent(cc.Sprite).spriteFrame = frame;\n            this.rightbottom.getComponent(cc.Sprite).spriteFrame = cardframe;\n\n\n            this.initcard.active = false ;\n            this.normal.active = true ;\n            this.kingbg.active = false ;\n            this.normal.y = 0 ;\n        }else if(self.card == 52){\n            frame = this.atlas.getSpriteFrame('小王_大');\n            this.king.getComponent(cc.Sprite).spriteFrame = frame;\n            this.initcard.active = false ;\n            this.normal.active = false;\n            this.kingbg.active = true ;\n            this.kingbg.y = 0 ;\n        }else if(self.card == 53){\n            frame = this.atlas.getSpriteFrame('大王_大');\n            this.king.getComponent(cc.Sprite).spriteFrame = frame;\n            this.initcard.active = false ;\n            this.normal.active = false;\n            this.kingbg.active = true ;\n            this.kingbg.y = 0 ;\n        }\n    },\n    reset:function(){\n        this.normal.y = 0;\n        this.kingbg.y = 0;\n        this.normal.active = false;\n        this.kingbg.active = false;\n    }\n\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}