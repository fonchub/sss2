{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script\\room/assets\\module\\hall\\script\\room\\PlaywayGroup.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","grouptitle","default","type","Label","groupbox","Node","groupbox_four","content","itemname","checkbox","checkboxnode","onLoad","self","node","on","event","console","log","checked","data","inx","options","length","script","doUnChecked","doChecked","stopPropagation","init","group","itempre","items","parentoptions","groupoptions","Array","string","name","itemsnum","groupid","id","newitem","instantiate","style","parent","active","getComponent","push","inititem","height","parseInt","item","width","x","defaultvalue"],"mappings":"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","file":"PlaywayGroup.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script\\room","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\ncc.Class({\n    extends: beiMiCommon,\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n\n        //组名称\n        grouptitle:{\n            default:null ,\n            type : cc.Label\n        },\n        //分组框\n        groupbox:{\n            default:null ,\n            type : cc.Node\n        },\n        //分组框4个\n        groupbox_four:{\n            default:null ,\n            type : cc.Node\n        },\n        //内容\n        content:{\n            default:null ,\n            type : cc.Node\n        },\n        //选项名\n        itemname:{\n            default:null ,\n            type : cc.Label\n        },\n        //单选框按钮\n        checkbox:{\n            default:null ,\n            type : cc.Node\n        },\n        //单选框节点\n        checkboxnode:{\n            default:null ,\n            type : cc.Node\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        let self = this ;\n        this.node.on('checkbox', function (event) {\n            console.log(\"qiancheng\");\n            if(self.checkbox!=null){\n                if(self.checked == false){\n                    if(self.data.type == \"radio\"){\n                        for(var inx = 0 ; inx < self.options.length ; inx++){\n                            let script = self.options[inx] ;\n                            script.doUnChecked() ;\n                        }\n                    }\n                    self.doChecked();\n                }else{\n                    if(self.data.type == \"radio\"){\n                        for(var inx = 0 ; inx < self.options.length ; inx++){\n                            let script = self.options[inx] ;\n                            script.doUnChecked() ;\n                        }\n                        self.doChecked();\n                    }else{\n                        self.doUnChecked();\n                    }\n                }\n            }\n            event.stopPropagation() ;\n        });\n    },\n    init:function(group , itempre , items , parentoptions){\n        this.data = group ;\n        this.options = parentoptions ;\n\n        this.groupoptions = new Array();\n        this.checked = false ;\n\n\n        this.grouptitle.string = group.name ;\n        if(this.groupbox!=null && itempre!=null){\n            let itemsnum = 0 ;\n            for(var inx=0 ; inx<items.length ; inx++){\n                if(items[inx].groupid == group.id){\n                    itemsnum = itemsnum + 1;\n                    let newitem = cc.instantiate(itempre) ;\n                    if(group.style != null && group.style == \"three\"){\n                        newitem.parent = this.groupbox ;\n                        this.groupbox_four.active = false ;\n                        this.groupbox.active = true ;\n                    }else{\n                        newitem.parent = this.groupbox_four ;\n                        this.groupbox_four.active = true;\n                        this.groupbox.active = false;\n                    }\n                    let script = newitem.getComponent(\"PlaywayGroup\") ;\n                    this.groupoptions.push(script);\n                    script.inititem(items[inx] , group , this.groupoptions);\n\n                }\n            }\n            if(group.style != null && group.style == \"three\") {\n                if (itemsnum > 4) {\n                    this.content.height = 35 + 50 * (parseInt((itemsnum - 1) / 3) + 1);\n                    this.groupbox.height = 50 * (parseInt((itemsnum - 1) / 3) + 1);\n                }\n            }else{\n                if (itemsnum > 4) {\n                    this.content.height = 35 + 50 * (parseInt((itemsnum - 1)/ 4) + 1);\n                    this.groupbox_four.height = 50 * (parseInt((itemsnum - 1)/ 4) + 1);\n                }\n            }\n        }\n    },\n    inititem:function(item , group , parentoptions){\n        this.data = group ;\n        this.item = item ;\n        this.options = parentoptions;\n        this.itemname.string = item.name ;\n        /**\n         * 以下代码修正 OPTION超出宽度导致 点击错误的 问题\n         */\n        if(group.style == \"three\"){\n            this.itemname.node.width = 160 ;\n            this.itemname.node.x = 107 ;\n        }else{\n            this.itemname.node.width = 105 ;\n            this.itemname.node.x = 77 ;\n        }\n        if(item.defaultvalue == true){\n            this.doChecked();\n        }else{\n            this.doUnChecked();\n        }\n        if(group!=null && group.style!=null && group.style == \"three\"){\n            this.checkboxnode.x = -76 ;\n        }\n    },\n    doChecked:function(){\n        this.checked = true ;\n        this.checkbox.active = true ;\n    },\n    doUnChecked:function(){\n        this.checked = false ;\n        this.checkbox.active = false;\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}