{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script/assets\\module\\hall\\script\\DefaultHallDataBind.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","username","default","type","Label","goldcoins","cards","girl","Node","onLoad","self","ready","string","beimi","user","pva_format","diamonds","pvalistener","context","coins","object","console","log","num","toFixed","playToLeft","_girlAnimCtrl","getComponent","Animation","play","playToRight","onDestroy","cleanpvalistener"],"mappings":";;;;;;AAAA,IAAIA,cAAcC,QAAQ,aAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,WADJ;;AAGLK,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,kBAAU;AACNC,qBAAS,IADH;AAENC,kBAAMN,GAAGO;AAFH,SAXF;AAeRC,mBAAW;AACPH,qBAAS,IADF;AAEPC,kBAAMN,GAAGO;AAFF,SAfH;AAmBRE,eAAO;AACHJ,qBAAS,IADN;AAEHC,kBAAMN,GAAGO;AAFN,SAnBC;;AAwBRG,cAAK;AACDL,qBAAS,IADR;AAEDC,kBAAMN,GAAGW;AAFR;AAxBG,KAHP;;AAiCL;AACAC,YAAQ,kBAAY;AAChB,YAAIC,OAAO,IAAX;AACA,YAAG,KAAKC,KAAL,EAAH,EAAgB;AACZ,iBAAKV,QAAL,CAAcW,MAAd,GAAuBf,GAAGgB,KAAH,CAASC,IAAT,CAAcb,QAArC;AACA,iBAAKc,UAAL,CAAgBlB,GAAGgB,KAAH,CAASC,IAAT,CAAcT,SAA9B,EAA0CR,GAAGgB,KAAH,CAASC,IAAT,CAAcR,KAAxD,EAAgET,GAAGgB,KAAH,CAASC,IAAT,CAAcE,QAA9E,EAAyFN,IAAzF;AACA,iBAAKO,WAAL,CAAiBP,IAAjB,EAAwB,UAAUQ,OAAV,EAAmB;AACvCA,wBAAQH,UAAR,CAAmBlB,GAAGgB,KAAH,CAASC,IAAT,CAAcT,SAAjC,EAA6CR,GAAGgB,KAAH,CAASC,IAAT,CAAcR,KAA3D,EAAmET,GAAGgB,KAAH,CAASC,IAAT,CAAcE,QAAjF,EAA4FE,OAA5F;AACH,aAFD;AAGH;AACJ,KA3CI;AA4CLH,gBAAW,oBAASI,KAAT,EAAgBb,KAAhB,EAAwBU,QAAxB,EAAmCI,MAAnC,EAA0C;AACjD,YAAGD,QAAQ,IAAX,EAAgB;AACZE,oBAAQC,GAAR,CAAYH,QAAM,KAAlB;AACA,gBAAII,MAAMJ,QAAQ,KAAlB;AACAC,mBAAOf,SAAP,CAAiBO,MAAjB,GAA0BW,IAAIC,OAAJ,CAAY,CAAZ,IAAiB,GAA3C;AACH,SAJD,MAIK;AACDJ,mBAAOf,SAAP,CAAiBO,MAAjB,GAA0BO,KAA1B;AACH;AACDC,eAAOd,KAAP,CAAaM,MAAb,GAAsBN,QAAQ,GAA9B;AACAe,gBAAQC,GAAR,CAAYhB,QAAM,KAAlB;AACH,KAtDI;AAuDLmB,gBAAW,sBAAU;AACjB;AACA,aAAKC,aAAL,GAAqB,KAAKnB,IAAL,CAAUoB,YAAV,CAAuB9B,GAAG+B,SAA1B,CAArB;AACA,aAAKF,aAAL,CAAmBG,IAAnB,CAAwB,cAAxB;AACH,KA3DI;AA4DLC,iBAAY,uBAAU;AAClB,aAAKJ,aAAL,GAAqB,KAAKnB,IAAL,CAAUoB,YAAV,CAAuB9B,GAAG+B,SAA1B,CAArB;AACA,aAAKF,aAAL,CAAmBG,IAAnB,CAAwB,eAAxB;AACH,KA/DI;AAgELE,eAAU,qBAAU;AAChB,aAAKC,gBAAL;AACH;;AAED;AACA;;AAEA;AAvEK,CAAT","file":"DefaultHallDataBind.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\module\\hall\\script","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\ncc.Class({\n    extends: beiMiCommon,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        username: {\n            default: null,\n            type: cc.Label\n        },\n        goldcoins: {\n            default: null,\n            type: cc.Label\n        },\n        cards: {\n            default: null,\n            type: cc.Label\n        }\n        ,\n        girl:{\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        let self = this ;\n        if(this.ready()){\n            this.username.string = cc.beimi.user.username ;\n            this.pva_format(cc.beimi.user.goldcoins , cc.beimi.user.cards , cc.beimi.user.diamonds , self);\n            this.pvalistener(self , function (context) {\n                context.pva_format(cc.beimi.user.goldcoins , cc.beimi.user.cards , cc.beimi.user.diamonds , context) ;\n            });\n        }\n    },\n    pva_format:function(coins, cards , diamonds , object){\n        if(coins > 9999){\n            console.log(coins+\":金币\")\n            var num = coins / 10000  ;\n            object.goldcoins.string = num.toFixed(2) + '万';\n        }else{\n            object.goldcoins.string = coins;\n        }\n        object.cards.string = cards + \"张\" ;\n        console.log(cards+\"张房卡\")\n    },\n    playToLeft:function(){\n        //播放动画组件\n        this._girlAnimCtrl = this.girl.getComponent(cc.Animation);\n        this._girlAnimCtrl.play(\"girl_to_left\");\n    },\n    playToRight:function(){\n        this._girlAnimCtrl = this.girl.getComponent(cc.Animation);\n        this._girlAnimCtrl.play(\"girl_to_right\");\n    },\n    onDestroy:function(){\n        this.cleanpvalistener() ;\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}