{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\module\\game\\dizhu\\script/assets\\module\\game\\dizhu\\script\\DizhuDataBind.js"],"names":["beiMiCommon","require","cc","Class","extends","properties","goldcoins","default","type","Label","cards","player","Prefab","poker","poker_min","myself","atlas","SpriteAtlas","catchbtn","Node","timer","timer_num","lastcards","playbtn","notallow","operesult","donottake","cardtipmsg","onLoad","self","active","playerspool","NodePool","myselfpool","pokerpool","minpokerpool","selectedcards","Array","cardslist","i","put","instantiate","ready","pva_format","beimi","user","diamonds","pvalistener","context","size","playermysql","get","parent","root","setPosition","render","getComponent","initplayer","coins","object","num","string","toFixed","catchtimer","times","gameTimer","beimitimer","timesrc","runtimer","catchresult","data","stoptimer","doOperatorResult","docatch","hideresult","lasthands","game","setDizhuFlag","lasttakecards","cardsnum","result","jsq","length","splice","donot","playcards","layout","fir","sec","zIndex","sameside","cardtips","card","tipcards","cacheCard","inx","pokercards","pc","doselect","cardtipsfornot","setTimeout","unselected","index","x","y","countcard","setScale","push","value","parseInt","count","temp","playtimer","automic","oper","resvalue","children","name","doSelectCard","existcard","find","pokercard","undefined","doUnSelectCard","indexOf","clean","restart","clear"],"mappings":"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","file":"DizhuDataBind.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\module\\game\\dizhu\\script","sourcesContent":["var beiMiCommon = require(\"BeiMiCommon\");\ncc.Class({\n    extends: beiMiCommon,\n\n    properties: {\n        // foo: {\n        //    default: null,      // The default value will be used only when the component attaching\n        //                           to a node for the first time\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n        goldcoins: {\n            default: null,\n            type: cc.Label\n        },\n        cards: {\n            default: null,\n            type: cc.Label\n        },\n        player: {\n            default: null,\n            type: cc.Prefab\n        },\n        poker: {\n            default: null,\n            type: cc.Prefab\n        },\n        poker_min: {\n            default: null,\n            type: cc.Prefab\n        },\n        myself: {\n            default: null,\n            type: cc.Prefab\n        },\n        atlas: {\n            default: null,\n            type: cc.SpriteAtlas\n        },\n        catchbtn: {\n            default: null,\n            type: cc.Node\n        },\n        timer: {\n            default: null,\n            type: cc.Node\n        },\n        timer_num:{\n            default: null,\n            type: cc.Label\n        },\n        lastcards:{\n            default: null,\n            type: cc.Node\n        },\n        playbtn:{\n            default: null,\n            type: cc.Node\n        },\n        notallow:{\n            default: null,\n            type: cc.Node\n        },\n        operesult:{\n            default: null,\n            type: cc.Node\n        },\n        donottake:{\n            default: null,\n            type: cc.Node\n        },\n        cardtipmsg:{\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        let self = this ;\n        if(this.timer){\n            this.timer.active = false ;\n        }\n        if(this.catchbtn){\n            this.catchbtn.active = false ;\n        }\n        if(this.playbtn){\n            this.playbtn.active = false ;\n        }\n        if(this.notallow){\n            this.notallow.active = false ;\n        }\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n        if(this.cardtipmsg){\n            this.cardtipmsg.active = false ;\n        }\n\n\n        this.playerspool = new cc.NodePool();\n        this.myselfpool = new cc.NodePool();\n        this.pokerpool = new cc.NodePool();     //背面\n        this.minpokerpool = new cc.NodePool();     //背面\n\n\n        this.selectedcards = new Array();   //存放当前玩家 选中 的牌\n\n        this.cardslist = new Array();\n\n        for(i=0 ; i<2 ; i++){\n            this.playerspool.put(cc.instantiate(this.player)); // 创建节点\n        }\n        for(i =0 ; i<25 ; i++){\n            this.pokerpool.put(cc.instantiate(this.poker));     //牌-背面\n        }\n        for(i =0 ; i<60 ; i++){\n            this.minpokerpool.put(cc.instantiate(this.poker_min));     //牌-背面\n        }\n        this.myselfpool.put(cc.instantiate(this.myself));\n\n        if(this.ready()){\n            this.pva_format(cc.beimi.user.goldcoins , cc.beimi.user.cards , cc.beimi.user.diamonds , self);\n            this.pvalistener(self , function (context) {\n                context.pva_format(cc.beimi.user.goldcoins , cc.beimi.user.cards , cc.beimi.user.diamonds , context) ;\n            });\n        }\n        if(this.myselfpool.size() > 0 && cc.beimi != null){\n            this.playermysql = this.myselfpool.get();\n            this.playermysql.parent = this.root() ;\n            this.playermysql.setPosition(-520,-180);\n            var render = this.playermysql.getComponent(\"PlayerRender\") ;\n            render.initplayer(cc.beimi.user);\n        }\n    },\n    pva_format:function(coins, cards , diamonds , object){\n        if(coins > 9999){\n            var num = coins / 10000  ;\n            object.goldcoins.string = num.toFixed(2) + '万';\n        }else{\n            object.goldcoins.string = coins;\n        }\n        object.cards.string = cards + \"张\" ;\n    },\n    catchtimer:function(times){\n\n        if(this.playbtn){\n            this.playbtn.active = false ;\n        }\n        if(this.timer){\n            this.timer.active = true ;\n        }\n        if(this.catchbtn){\n            this.catchbtn.active = true ;\n        }\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n\n        let self = this ;\n        var gameTimer = require(\"GameTimer\");\n        this.beimitimer = new gameTimer();\n        this.timesrc = this.beimitimer.runtimer(this , this.timer , this.atlas , this.timer_num , this.timer_num , times);\n    },\n    catchresult:function(data){\n        if(this.timer){\n            this.timer.active = false ;\n        }\n        if(this.catchbtn){\n            this.catchbtn.active = false ;\n        }\n        if(this.playbtn){\n            this.playbtn.active = false ;\n        }\n        if(this.timesrc){\n            this.beimitimer.stoptimer(this , this.timer , this.timesrc);\n        }\n        this.doOperatorResult(\"catch\" , data.docatch , false) ;\n    },\n    hideresult:function(){\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n    },\n    lasthands:function(self, game,data){   //设置地主\n        this.setDizhuFlag(data) ;\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n    },\n    setDizhuFlag:function(data){\n        var render = this.playermysql.getComponent(\"PlayerRender\") ;\n        render.setDizhuFlag(data);\n    },\n    lasttakecards:function(game , self , cardsnum ,lastcards , data){\n        if(this.result){\n            this.result.active = false ;\n        }\n        if(this.playbtn){\n            this.playbtn.active = false ;\n        }\n        if(this.catchbtn){\n            this.catchbtn.active = false;\n        }\n        if(this.jsq){\n            this.jsq.active = false ;\n        }\n        if(this.lastcards){\n            this.lastcards.active = true ;\n        }\n        if(this.timesrc){\n            this.beimitimer.stoptimer(this , this.timer , this.timesrc);\n        }\n        for(var i=0 ; i<this.cardslist.length ; i++){\n            this.pokerpool.put(this.cardslist[i]) ;//回收回去\n        }\n        this.cardslist.splice(0,this.cardslist.length) ;//删除数组里的所有内容\n        if (data.donot == false) {    //选择出牌或默认出牌\n            for(var i=0 ; i<lastcards.length ; i++){\n                this.playcards(self , i , lastcards[i] , lastcards) ;\n            }\n            this.layout(this.lastcards , function(fir , sec){\n                return fir.zIndex - sec.zIndex ;\n            });\n        }else{\n            this.doOperatorResult(\"lasttakecards\" , true , data.sameside) ;\n        }\n    },\n    cardtips:function(self , card , tipcards){\n        var cacheCard ;\n        for(var inx = 0 ; inx<self.pokercards.length ; inx++){\n            let pc = self.pokercards[inx] ;\n            if(pc.getComponent(\"BeiMiCard\").card == card){\n                cacheCard = pc ; break ;\n            }\n        }\n        if(cacheCard != null){\n            cacheCard.getComponent(\"BeiMiCard\").doselect();\n        }\n    },\n    cardtipsfornot:function(self , game){\n        game.cardtipmsg.active = true ;\n        setTimeout(function(){\n            game.cardtipmsg.active = false ;\n        } , 1000);\n        game.unselected(self , game) ;\n    },\n    unselected:function( self , game){\n        for(var inx = 0 ; inx<self.pokercards.length ; inx++){\n            let pc = self.pokercards[inx] ;\n            pc.getComponent(\"BeiMiCard\").unselected();\n        }\n    },\n    playcards:function(self , index , card , lastcards){\n        var cacheCard ;\n        for(var inx = 0 ; inx<self.pokercards.length ; inx++){\n            let pc = self.pokercards[inx] ;\n            if(pc.card == card){\n                cacheCard = pc ; break ;\n            }\n        }\n        if(cacheCard != null){\n            cacheCard.getComponent(\"BeiMiCard\").unselected();\n            cacheCard.x = index * 30 - 30 ;\n            cacheCard.y = 0;\n\n            var zIndex = this.countcard(card , lastcards) ;\n\n            cacheCard.zIndex = 4 - zIndex ;\n            // cacheCard.zIndex =  zIndex;\n\n            cacheCard.setScale(0.5,0.5);\n\n            cacheCard.parent = this.lastcards ;\n\n\n            this.cardslist.push(cacheCard) ;\n        }\n    },\n    /**\n     * 按照张数最大的牌排序\n     * @param card\n     * @param lastcards\n     * @returns {number}\n     */\n    countcard:function(card , lastcards){\n        let value = parseInt(card / 4);\n        let count = 0 ;\n        for(var i = 0 ;i<lastcards.length ; i++){\n            let temp = parseInt(lastcards[i] / 4) ;\n            if(value == temp){\n                count = count + 1 ;\n            }\n        }\n        return count ;\n    },\n    /**\n     *\n     * @param game\n     * @param times\n     * @param automic 不允许 不出\n     */\n    playtimer:function(game , times , automic){\n        if(this.timer){\n            this.timer.active = true ;\n        }\n        if(this.playbtn){\n            this.playbtn.active = true ;\n        }\n        if(this.catchbtn){\n            this.catchbtn.active = false;\n        }\n        if(this.lastcards){\n            this.lastcards.active = false ;\n        }\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n\n        if(automic == true){\n            this.donottake.active = false ;\n        }else{\n            this.donottake.active = true ;\n        }\n\n        for(var i=0 ; i<this.cardslist.length ; i++){\n            game.pokerpool.put(this.cardslist[i]) ;//回收回去\n        }\n        let self = this ;\n        var gameTimer = require(\"GameTimer\");\n        this.beimitimer = new gameTimer();\n        this.timesrc = this.beimitimer.runtimer(this , this.timer , this.atlas , this.timer_num , this.timer_num , times);\n    },\n    doOperatorResult:function(oper , resvalue , sameside){\n        this.operesult.active = true ;\n        if(oper == \"catch\"){\n            if(resvalue == true){\n                for(var i=0 ; i<this.operesult.children.length ; i++){\n                    this.operesult.children[i].active = false ;\n                    if(this.operesult.children[i].name == \"提示_抢地主\"){\n                        this.operesult.children[i].active = true ;\n                    }\n                }\n            }else {\n                for (var i = 0; i < this.operesult.children.length; i++) {\n                    this.operesult.children[i].active = false;\n                    if (this.operesult.children[i].name == \"提示_不抢\") {\n                        this.operesult.children[i].active = true;\n                    }\n\n                }\n            }\n        }else if(oper == \"lasttakecards\"){\n            if(sameside == true){\n                for (var i = 0; i < this.operesult.children.length; i++) {\n                    this.operesult.children[i].active = false;\n                    if (this.operesult.children[i].name == \"不要\") {\n                        this.operesult.children[i].active = true;\n                    }\n                }\n            }else{\n                for (var i = 0; i < this.operesult.children.length; i++) {\n                    this.operesult.children[i].active = false;\n                    if (this.operesult.children[i].name == \"要不起\") {\n                        this.operesult.children[i].active = true;\n                    }\n                }\n            }\n        }\n    },\n    doSelectCard:function(card){\n        var existcard = this.selectedcards.find(function(pokercard){\n            pokercard.card == card\n        });\n        if(existcard == undefined){\n            this.selectedcards.push(card) ;\n        }\n    },\n    doUnSelectCard:function(card){\n        var inx = this.selectedcards.indexOf(card);\n        if(inx >= 0){\n            this.selectedcards.splice(inx , inx+1) ;\n        }\n    },\n    clean:function(context){\n        if(this.catchbtn){\n            this.catchbtn.active = false;\n        }\n        if(this.lastcards){\n            this.lastcards.active = false ;\n        }\n        if(this.operesult){\n            this.operesult.active = false ;\n        }\n        var render = this.playermysql.getComponent(\"PlayerRender\") ;\n        render.clean(context) ;\n    },\n    restart:function(){\n        for(var i=0 ; i<2 ; i++){\n            this.playerspool.put(cc.instantiate(this.player)); // 创建节点\n        }\n\n        /**\n         * 费劲巴拉的收集起来，然后又给销毁了，浪费资源！！！\n         */\n        this.pokerpool.clear();\n        this.minpokerpool.clear();\n\n        for(var inx =0 ; inx<25 ; inx++){\n            this.pokerpool.put(cc.instantiate(this.poker));     //牌-背面\n        }\n        for(var inx=0 ; inx<60 ; inx++){\n            this.minpokerpool.put(cc.instantiate(this.poker_min));     //牌-背面\n        }\n    }\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n"]}